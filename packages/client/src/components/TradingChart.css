/* TradingChart Component Styles */

.trading-chart-card {
  @apply p-4 bg-card border border-border rounded-lg;
  position: relative;
  overflow: hidden;
}

.chart-header {
  @apply flex items-center justify-between mb-4;
  flex-wrap: wrap;
  gap: 1rem;
}

.chart-title {
  @apply flex items-center gap-3;
}

.chart-title h3 {
  @apply text-xl font-semibold text-foreground;
  margin: 0;
}

.current-price {
  @apply text-2xl font-bold text-primary;
}

.chart-controls {
  @apply flex items-center gap-3;
  flex-wrap: wrap;
}

.timeframe-selector {
  @apply flex gap-1;
}

.timeframe-selector button {
  @apply min-w-[48px];
}

.chart-container {
  @apply w-full relative;
  touch-action: pan-x pan-y;
}

.chart-error {
  @apply flex items-center justify-between p-4 mb-4 bg-destructive/10 border border-destructive/20 rounded-md;
}

.chart-error p {
  @apply text-destructive text-sm;
  margin: 0;
}

.chart-loading {
  @apply absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm;
  z-index: 10;
}

.loading-spinner {
  @apply w-8 h-8 border-4 border-primary border-t-transparent rounded-full;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.chart-loading p {
  @apply mt-4 text-sm text-muted-foreground;
}

.chart-tooltip {
  @apply absolute top-16 left-4 bg-popover border border-border rounded-md p-3 shadow-lg;
  z-index: 20;
  min-width: 200px;
  pointer-events: none;
}

.tooltip-row {
  @apply flex items-center justify-between gap-4 py-1;
}

.tooltip-label {
  @apply text-xs font-medium text-muted-foreground;
}

.tooltip-value {
  @apply text-sm font-semibold text-foreground;
}

/* Dark mode adjustments */
.dark .trading-chart-card {
  @apply bg-gray-900 border-gray-800;
}

.dark .chart-tooltip {
  @apply bg-gray-800 border-gray-700;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .chart-header {
    @apply flex-col items-start;
  }

  .chart-controls {
    @apply w-full flex-col items-stretch;
  }

  .timeframe-selector {
    @apply w-full grid grid-cols-6 gap-1;
  }

  .chart-title {
    @apply w-full;
  }

  .chart-tooltip {
    @apply top-auto bottom-4 left-4 right-4;
    min-width: unset;
  }
}

@media (max-width: 480px) {
  .chart-title h3 {
    @apply text-lg;
  }

  .current-price {
    @apply text-xl;
  }

  .timeframe-selector {
    @apply grid-cols-3;
  }

  .trading-chart-card {
    @apply p-2;
  }

  .chart-header {
    @apply mb-2;
  }
}

/* Animation for price changes */
@keyframes priceUp {
  0% {
    color: hsl(var(--primary));
  }
  50% {
    color: #22c55e;
    transform: scale(1.05);
  }
  100% {
    color: hsl(var(--primary));
  }
}

@keyframes priceDown {
  0% {
    color: hsl(var(--primary));
  }
  50% {
    color: #ef4444;
    transform: scale(1.05);
  }
  100% {
    color: hsl(var(--primary));
  }
}

.current-price.price-up {
  animation: priceUp 0.6s ease-out;
}

.current-price.price-down {
  animation: priceDown 0.6s ease-out;
}

/* Smooth transitions */
.chart-controls button {
  @apply transition-all duration-200;
}

.chart-controls button:hover {
  @apply transform scale-105;
}

.trading-chart-card {
  @apply transition-all duration-300;
}

/* Accessibility */
.chart-controls button:focus-visible {
  @apply outline-none ring-2 ring-primary ring-offset-2;
}

/* Loading state overlay */
.chart-loading::before {
  content: '';
  @apply absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent;
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}
